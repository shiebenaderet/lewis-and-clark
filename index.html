<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Lost Expedition - Retracing Lewis &amp; Clark</title>
<link rel="stylesheet" href="css/styles.css">
</head>
<body>

<!-- ============================================================
     TITLE SCREEN
     ============================================================ -->
<div id="title-screen" class="screen active">
  <div class="title-stars"></div>
  <div class="title-content">
    <div class="title-year">1804 &ndash; 1806</div>
    <h1 class="title-main">The Lost Expedition</h1>
    <p class="title-subtitle">Retracing the Journey of Lewis &amp; Clark</p>
    <div class="title-divider"></div>
    <p class="title-intro">
      A tattered journal has been found in an old St. Louis library. Its pages tell the story of the Corps of Discovery &mdash; but many entries are missing. Your mission: retrace the expedition's path across the continent, recover the lost journal entries at each station, and piece together the full story of America's greatest exploration.
    </p>
    <div class="level-select">
      <span class="level-select-label">Choose your reading level:</span>
      <div class="level-buttons">
        <button class="level-btn" data-level="beginner" onclick="setLevel('beginner')">Easier Vocabulary</button>
        <button class="level-btn active" data-level="standard" onclick="setLevel('standard')">Standard</button>
        <button class="level-btn" data-level="advanced" onclick="setLevel('advanced')">Advanced</button>
      </div>
    </div>
    <button class="btn-start" onclick="startGame()">Begin the Expedition</button>
    <div style="margin-top:2rem;font-size:0.7rem;color:rgba(244,232,193,0.3);font-family:var(--font-ui);">v0.2.0</div>
  </div>
</div>

<!-- ============================================================
     GAME SCREEN
     ============================================================ -->
<div id="game-screen" class="screen">
  <!-- Top navigation bar -->
  <div class="top-bar">
    <div class="top-bar-left">
      <span class="game-title-small">The Lost Expedition</span>
      <span class="station-indicator" id="station-indicator">Station 1 of 10</span>
    </div>
    <div class="top-bar-right">
      <div class="level-toggle" id="level-toggle">
        <button data-level="beginner" onclick="setLevel('beginner')">Easier</button>
        <button data-level="standard" onclick="setLevel('standard')">Standard</button>
        <button data-level="advanced" onclick="setLevel('advanced')">Advanced</button>
      </div>
      <button class="nav-btn active-tab" onclick="showView('station')" id="btn-view-station">Station</button>
      <button class="nav-btn" onclick="showView('map')" id="btn-view-map">Map</button>
      <button class="nav-btn" onclick="showView('journal')" id="btn-view-journal">Journal</button>
    </div>
  </div>

  <!-- Station View -->
  <div class="game-body active" id="view-station">
    <div id="station-content">
      <!-- Filled by JS -->
    </div>
  </div>

  <!-- Map View -->
  <div class="game-body" id="view-map">
    <div class="map-container">
      <h2 class="map-title">The Trail of the Corps of Discovery</h2>
      <div class="map-svg-wrap" id="map-svg-wrap">
        <!-- SVG map inserted by JS -->
      </div>
      <div class="map-legend">
        <div class="map-legend-item">
          <div class="map-legend-dot" style="background: #6b4423; border-color: #5c2e0a;"></div>
          <span>Not yet visited</span>
        </div>
        <div class="map-legend-item">
          <div class="map-legend-dot" style="background: #f5a623; border-color: #d4760a;"></div>
          <span>Visited</span>
        </div>
        <div class="map-legend-item">
          <div class="map-legend-dot" style="background: #8b1a1a; border-color: #fff;"></div>
          <span>Current station</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Journal Tracker View -->
  <div class="game-body" id="view-journal">
    <div class="journal-tracker">
      <h2 class="journal-tracker-title">Expedition Journal</h2>
      <p class="journal-tracker-subtitle">Record your findings as you travel from station to station.</p>
      <div style="overflow-x:auto;">
        <table class="tracker-table">
          <thead>
            <tr>
              <th style="width:50px;">Stn</th>
              <th style="width:120px;">Date(s)</th>
              <th style="width:140px;">Journal Author(s)</th>
              <th>Summary of Events</th>
            </tr>
          </thead>
          <tbody id="tracker-body">
            <!-- Filled by JS -->
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- ============================================================
     TRAIL EVENT OVERLAY
     ============================================================ -->
<div class="trail-event-overlay" id="trail-event-overlay">
  <div class="trail-event-box">
    <div class="trail-event-icon" id="trail-event-icon"></div>
    <h3 class="trail-event-title" id="trail-event-title"></h3>
    <p class="trail-event-text" id="trail-event-text"></p>
    <button class="trail-event-btn" onclick="closeTrailEvent()">Continue on the Trail</button>
  </div>
</div>

<!-- ============================================================
     COMPLETION SCREEN
     ============================================================ -->
<div id="completion-screen" class="screen">
  <div class="completion-content">
    <h1 class="completion-title">Journey Complete!</h1>
    <p class="completion-text" id="completion-text"></p>
    <button class="btn-restart" onclick="showView('journal'); showScreen('game-screen');">Review Your Journal</button>
    <button class="btn-restart" onclick="restartGame()">Start a New Expedition</button>
  </div>
</div>

<!-- ============================================================
     JAVASCRIPT (loaded in dependency order)
     ============================================================ -->
<script src="js/data-loader.js"></script>
<script src="js/game-state.js"></script>
<script src="js/renderers.js"></script>
<script src="js/trail-events.js"></script>
<script src="js/game-engine.js"></script>

</body>
</html>
